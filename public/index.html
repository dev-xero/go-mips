<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="MIPS Assembly Web simulator." />
        <title>GO MIPS Simulator</title>
        <link rel="stylesheet" href="/static/stylesheet.css" />
        <link
            rel="shortcut icon"
            href="/static/favicon.svg"
            type="image/x-icon"
        />
    </head>
    <body>
        <h3 id="title">GO MIPS Simulator</h3>
        <p id="paragraph">
            GoMIPS is a CLI and web based MIPS assembly simulator written in GO
            and capable of decoding and executing most of the basic instruction
            set. Hobby project built as an escape from learning MARS sim.
        </p>

        <!-- Flex section -->
        <section id="flex-section">
            <!-- Editing Box -->
            <section id="code">
                <span class="header">Editor</span>

                <div id="editing">
                    <textarea id="editor" spellcheck="false"></textarea>

                    <pre id="hl" aria-hidden="true">
                        <code id="hl-content"></code>
                    </pre>
                </div>

                <button id="run-btn">â–¸ RUN ASSEMBLY</button>
            </section>

            <!-- Everything else -->
            <section id="info">
                <!-- Operations -->
                <section class="operations">
                    <h3>Operations</h3>
                    <h3 class="val">00</h3>
                </section>
                <!-- Registers -->
                <section id="registers">
                    <h3 class="header">Registers</h3>

                    <!-- Switchers -->
                    <section id="switchers">
                        <button class="s active">S</button>
                        <button class="t">T</button>
                        <button class="a">A</button>
                        <button class="v">V</button>
                    </section>

                    <section class="reg-table">
                        <!-- S-BLOCK -> s0 - s7 -->
                        <ul class="s-block">
                            <li id="s0">
                                <div class="reg-block">
                                    <h3 class="label">s0</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s1">
                                <div class="reg-block">
                                    <h3 class="label">s1</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s2">
                                <div class="reg-block">
                                    <h3 class="label">s2</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s3">
                                <div class="reg-block">
                                    <h3 class="label">s3</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s4">
                                <div class="reg-block">
                                    <h3 class="label">s4</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s5">
                                <div class="reg-block">
                                    <h3 class="label">s5</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s6">
                                <div class="reg-block">
                                    <h3 class="label">s6</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="s7">
                                <div class="reg-block">
                                    <h3 class="label">s7</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                        </ul>

                        <!-- T-BLOCK -> t0 - t9 -->
                        <ul class="t-block">
                            <li id="t0">
                                <div class="reg-block">
                                    <h3 class="label">t0</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t1">
                                <div class="reg-block">
                                    <h3 class="label">t1</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t2">
                                <div class="reg-block">
                                    <h3 class="label">t2</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li class="treg" id="t3">
                                <div class="reg-block">
                                    <h3 class="label">t3</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t4">
                                <div class="reg-block">
                                    <h3 class="label">t4</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t5">
                                <div class="reg-block">
                                    <h3 class="label">t5</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t6">
                                <div class="reg-block">
                                    <h3 class="label">t6</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t7">
                                <div class="reg-block">
                                    <h3 class="label">t7</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t8">
                                <div class="reg-block">
                                    <h3 class="label">t8</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="t9">
                                <div class="reg-block">
                                    <h3 class="label">t9</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                        </ul>

                        <!-- A-BLOCK -> a0 - a3 -->
                        <ul class="a-block">
                            <li id="a0">
                                <div class="reg-block">
                                    <h3 class="label">a0</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="a1">
                                <div class="reg-block">
                                    <h3 class="label">a1</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="a2">
                                <div class="reg-block">
                                    <h3 class="label">a2</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="a3">
                                <div class="reg-block">
                                    <h3 class="label">a3</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                        </ul>

                        <!-- V-BLOCK -> v0 - v1 -->
                        <ul class="v-block">
                            <li id="v0">
                                <div class="reg-block">
                                    <h3 class="label">v0</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                            <li id="v1">
                                <div class="reg-block">
                                    <h3 class="label">v1</h3>
                                    <h3>0</h3>
                                </div>
                            </li>
                        </ul>
                    </section>
                </section>
            </section>
        </section>
    </body>
    <script src="/static/web.js"></script>
    <script>
        document.querySelectorAll('.reg-table ul').forEach((ul) => {
            ul.style.display = ul.classList.contains('s-block')
                ? 'block'
                : 'none';
        });

        document.querySelectorAll('#switchers button').forEach((button) => {
            button.addEventListener('click', function () {
                // Remove active state from all buttons
                document
                    .querySelectorAll('#switchers button')
                    .forEach((btn) => btn.classList.remove('active'));

                // Add active state to clicked button
                this.classList.add('active');

                // Get register type
                const regType = this.classList[0] + '-block';

                // Toggle visibility of registers
                document.querySelectorAll('.reg-table ul').forEach((ul) => {
                    ul.style.display = ul.classList.contains(regType)
                        ? 'block'
                        : 'none';
                });
            });
        });
    </script>
</html>
